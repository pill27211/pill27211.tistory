
# [Gold III] 정수 게임 - 14848

[문제 링크](https://www.acmicpc.net/problem/14848)

### 문제 요약

<p> 문제에 적힌데로 게임을 진행할 때, 게임이 모두 완료된 이후 종이에 적혀있는 수의 개수를 구해보자. </p>

### 제한

TL : 2sec, ML : 512 MB

$1 ≤ N ≤ 1,000,000,000$

$1 ≤ K ≤ 15$

### 성능 요약

메모리: 2020 KB, 시간: 12 ms

### 분류

수학(math), 정수론(number_theory), 유클리드 호제법(euclidean), 포함 배제의 원리(inclusion_and_exclusion), 비트마스킹(bitmask), 브루트포스 알고리즘(bruteforcing)

### comment

포함 배제의 원리를 대강 공부 후 처음 마주한 문제이다.

포함 배제의 원리는 [이 곳](https://ko.wikipedia.org/wiki/%ED%8F%AC%ED%95%A8%EB%B0%B0%EC%A0%9C%EC%9D%98_%EC%9B%90%EB%A6%AC)을 참고하자.

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

위 내용에서 결정적인 사실은 집합의 원소가 (홀수 개 인 교집합) - (짝수 개 인 교집합) 이 바로 조건을 만족하는 합집합 이라는 것이다.

구하는 것을 조금 바꿔서 이렇게 정의해보자.

" $1$ ~ $N$에 $A[]$의 원소 중 최소 하나와 배수 관계에 놓인 수의 개수.

$1 ≤ K ≤ 15$이므로, 15개의 비트를 이용해 모든 상태 표현을 돌아보며 위 식의 값을 모두 합쳐주면 답을 구해낼 수 있다.

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

임의의 교집합마다 해당 교집합에 속한 모든 원소와 배수 관계에 놓인 수의 개수를 세야 하므로 다음과 같이 구할 수 있다.

$C_i = N / lcm(A_1, A_2, ...A_i)

우리가 처음에 구하고자 했던건 $C_1 - C_2 + C_3 - C_4 + ... C_i$를 제외한 수들의 개수이므로 $N - ΣC$ 가 최종 답이 되겠다.

