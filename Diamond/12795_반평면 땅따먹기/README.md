
# [Diamond V] 반평면 땅따먹기 - 12795

[문제 링크](https://www.acmicpc.net/problem/12795)

### 문제 요약

<p> Do you know Li-Chao Tree ? </p>

### 제한

TL : 2sec, ML : 128 MB

$1 ≤ Q ≤ 200,000$

$|a| ≤ 1,000,000$

$|b|, |x| ≤ 1,000,000,000,000$

가장 처음 쿼리는 1번 쿼리임이 보장된다.

### 성능 요약

메모리: 11364 KB, 시간: 132 ms

### 분류

다이나믹 프로그래밍(dp), 볼록 껍질을 이용한 최적화(convex hull optimization)

### comment

말그대로 Li-Chao Tree 구현에 있어서 가장 기본이 되는 문제이다.

[여기](https://github.com/pill27211/Baekjoon/tree/main/Diamond/17526_Star%20Trek)에서 CHT를 처음 공부하게 됐는데 막상 이 문제를 더 늦게 본 ㄷㄷ..

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

각자 본인에게 맞는 LCT를 만들었다면, 이제 남은 건 온라인 상의 쿼리 처리 뿐이다.

1번 쿼리는 가장 기본적인 형태의 직선의 방정식을 추가하는 것이다. 

$f(x) = ax + b$에서 $a$와 $b$가 직접적으로 주어지므로 이를 그대로 트리에 추가 해주면 된다.

2번 쿼리는 주어지는 $x$에 대해 가장 큰 함숫값을 찾는 쿼리다.

이에 대한 답을 하기 위해 각 동적 노드에선 해당 구간 상에 절반 이상에서 최댓값을 갖는 직선을 취하도록 하자.

추가로 모든 쿼리에 있어서 범위가 $|x| ≤ 1,000,000,000,000$에서만 존재한다. 이 점을 유의하자.

-----------------------------------------------------------------------------------------------------------------------------------------------------------------------

근데 이 문제에 dp태그가 왜 달려있을까?
