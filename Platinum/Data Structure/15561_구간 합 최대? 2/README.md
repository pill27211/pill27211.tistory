
# [Platinum I] 구간 합 최대? 2 - 15561

[문제 링크](https://www.acmicpc.net/problem/15561)

### 문제 요약

<p> 길이 $N$의 수열과 상수 $U$, $V$가 주어진다. $Q$개의 쿼리에 대해 알맞는 처리를 해보자.  </p>

### 제한

TL : 1sec, ML : 256 MB

$1 ≤ N, Q ≤ 10^5$

$-10^2 ≤ K_i ≤ 10^2$

$-5 ≤ U, V ≤ 5$

### 성능 요약

메모리: 10212 KB, 시간: 116 ms

### 분류

자료 구조(data_structures), 세그먼트 트리(segtree)

### comment

이제는 웰노운이 되버린 유형이다.

알만한 사람들은 아는 금광 세그, 구조체 세그, 구간 병합 세그 등등의 이름으로 불리며 임의의 구간에 대한 최대 연속합을 효율적으로 구해낼 수 있다.

각 노드마다 담당하는 구간이 있다. 다음과 같이 4개의 값을 관리하자.

* 왼 쪽 끝 요소를 포함하는 최댓값. (ls)
* 오른 쪽 끝 요소를 포함하는 최댓값. (rs)
* 구간 내 총 합. (ps)
* 문제의 정답. (ms)

두 자식이 merge될 때 각각 어떤 값들을 고려해야 하는지 고민해보며 풀이해보자.
